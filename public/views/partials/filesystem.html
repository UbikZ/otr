<div class="row animated fadeIn" ng-controller="filesystem.controller" ng-init="ns='filesystem'">
    <div class="col-lg-4">
        <div class="ibox float-e-margins">
            <div class="ibox-content">
                <div class="file-manager">
                    <h5>{{ (ns+'.control.title') | translate }}</h5>

                    <h5>{{ (ns+'.control.filter') | translate }}</h5>
                    <a ng-click="clearSelected()" class="file-control">{{ (ns+'.control.filters.unselect') | translate
                        }}</a>
                    <a ng-click="expandAll()" class="file-control">{{ (ns+'.control.filters.expand') | translate }}</a>
                    <a ng-click="collapseAll()" class="file-control">{{ (ns+'.control.filters.collapse') | translate
                        }}</a>

                    <div class="hr-line-dashed"></div>
                    <input type="text" ng-model="nodeSearch"
                           placeholder="{{ (ns+'.control.search.placeholder') | translate }}"
                           class=" form-control">

                    <div class="hr-line-dashed"></div>
                    <h5>{{ (ns+'.control.tree') | translate }}</h5>

                    <div treecontrol class="tree-light"
                         tree-model="items"
                         options="treeOptions"
                         on-selection="onSelect(node, selected, $parentNode, $index)"
                         filter-expression="nodeSearch"
                         selected-node="selected"
                         expanded-nodes="expandedNodes"
                         order-by="type">
                        <span ng-switch="" on="node.type">
                            <span ng-switch-when="project" class="fa fa-folder text-success" aria-hidden="true"></span>
                            <span ng-switch-when="document" class="fa fa-file-text-o text-navy"
                                  aria-hidden="true"></span>
                        </span>
                        {{node.name}}
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-8">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <div class="file-manager">
                            <h5>{{ (ns+'.breadcrumb') | translate }}</h5>
                            <ol class="breadcrumb">
                                <li>
                                    <a ng-click="clearSelected()"><i class="fa fa-home"></i>
                                        <strong>{{ organization.name }}</strong>
                                    </a>
                                </li>
                                <li ng-repeat="element in breadcrumbElements">
                                    <a ng-click="open(element._id)">{{ element.name }}</a>
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
                <div class="file-box">
                    <div class="file">
                        <div class="file-box">
                            <div class="file">
                                <a ng-click="edit()">
                                    <div class="text-muted">
                                        <div class="icon">
                                            <i class="fa fa-plus"></i>
                                        </div>
                                        <div class="file-name text-center">
                                            <strong>{{ (ns+'.item.creation.create') | translate }}</strong>
                                            <br>
                                            <small>{{ (ns+'.item.creation.description') | translate }}</small>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="file-box" ng-repeat="project in projects | orderBy:name">
                    <div class="file">
                        <div class="file-box">
                            <div class="file">
                                <span uib-dropdown ng-init="opened = false">
                                  <div>
                                      <span class="corner"></span>

                                      <div class="ih-item square effect6 from_top_and_bottom">
                                          <a ng-click="open(project._id)">
                                              <div class="img">
                                                  <div class="icon">
                                                      <i class="fa fa-folder text-success"></i>
                                                  </div>
                                              </div>
                                              <div class="info">
                                                  <h3>Open</h3>
                                              </div>
                                          </a>
                                      </div>


                                      <div class="file-name">
                                          <div class="btn-group pull-right" uib-dropdown is-open="opened">
                                              <button id="single-button" type="button" class="btn btn-white btn-xs"
                                                      uib-dropdown-toggle ng-disabled="disabled">
                                                  <span class="caret"></span>
                                              </button>
                                              <ul class="uib-dropdown-menu" role="menu" aria-labelledby="single-button">
                                                  <li role="menuitem">
                                                      <a ng-click="edit(project._id)">
                                                          <i class="fa fa-pencil"></i>
                                                          {{ (ns+'.item.edit') | translate }}
                                                      </a>
                                                  </li>
                                                  <li role="menuitem">
                                                      <a ng-click="delete(project._id)">
                                                          <i class="fa fa-trash"></i>
                                                          {{ (ns+'.item.delete') | translate }}
                                                      </a>
                                                  </li>
                                              </ul>
                                          </div>
                                          <span class="text-success">{{ project.name }}</span>
                                          <br>
                                          <small>{{ (ns+'.item.added') | translate }} {{ project.creation.date |
                                              date:'dd-MM-yyyy' }}
                                          </small>
                                      </div>
                                  </div>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="file-box" ng-repeat="document in documents | orderBy:name">
                    <!-- todo -->
                </div>
            </div>
        </div>
    </div>
</div>